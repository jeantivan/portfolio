---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';
import Text from './common/Text.astro';

type Size = "large" | "big" | "medium" | "small" | "auto";

const sizes: Record<Size, string> = {
  large: "w-[112px]",
  big: "w-24",
  medium: "w-[88px]",
  small: "w-[66px]",
  auto: "w-auto max-w-[112px]"
};

interface Props {
  skill: CollectionEntry<'techSkill'>;
  showName?: boolean;
  size?: Size;
  class?: string
};

const {skill, showName = false, size = "medium", class: className} = Astro.props

const { name, image } = skill.data;

---
  <div
    class:list={[
      "w-full h-full rounded-lg",
      "bg-background-3/50 dark:bg-transparent",
      "grid grid-rows-[1fr_auto] justify-center gap-3",
    ]}>
      <Image 
        alt={image.alt} 
        format="webp" 
        src={image.src.dark} 
        class:list={[sizes[size],"aspect-square rounded-xl object-contain hidden dark:block"]} />
      <Image alt={image.alt} format="webp" src={image.src.light} class="w-full rounded-xl object-contain block dark:hidden"/>
       {showName && <Text variant="body2" class='text-center'>{name}</Text>}
  </div>